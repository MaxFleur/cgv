#version 430 

uniform layout(binding = 0) sampler3D src_tex;

flat out vec4 color_gs;

void main() {
	int idx = gl_VertexID;

	ivec3 src_size = textureSize(src_tex, 0);
	ivec3 src_coord;

	src_coord.x = idx % src_size.x;
	src_coord.y = (idx / src_size.x) % src_size.y;
	src_coord.z = idx / (src_size.x * src_size.y);

	vec4 p = vec4(texelFetch(src_tex, src_coord, 0));

	gl_Position = p;
}
